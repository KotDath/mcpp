---
phase: 06-high-level-api
plan: 07
type: execute
wave: 1
depends_on: ["06-01", "06-02", "06-03", "06-04", "06-05"]
files_modified:
  - src/mcpp/util/retry.h
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "All Phase 6 source files have MIT license headers"
  artifacts:
    - path: "src/mcpp/util/retry.h"
      provides: "Retry policies with backoff strategies"
      contains: "Copyright (c) 2025 mcpp contributors"
  key_links:
    - from: "src/mcpp/util/retry.h"
      to: "project license standard"
      via: "file header"
      pattern: "Permission is hereby granted"
---

<objective>
Add MIT license header to util/retry.h for production polish.

Purpose: All other Phase 6 source files (api/context.h, api/peer.h, api/role.h, api/running_service.h, api/service.h, util/atomic_id.h, util/error.h, util/logger.h, util/pagination.h) have the standard project MIT license header. The util/retry.h file (322 lines) was created without the license header, creating inconsistency across the codebase.

Output: src/mcpp/util/retry.h with MIT license header matching other Phase 6 files.
</objective>

<execution_context>
@/home/kotdath/.claude/get-shit-done/workflows/execute-plan.md
@/home/kotdath/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-high-level-api/06-VERIFICATION.md
@.planning/phases/06-high-level-api/06-05-SUMMARY.md
@src/mcpp/util/retry.h
@src/mcpp/util/logger.h
@src/mcpp/api/context.h
</context>

<tasks>

<task type="auto">
  <name>Add MIT license header to util/retry.h</name>
  <files>src/mcpp/util/retry.h</files>
  <action>
Update src/mcpp/util/retry.h:

1. Replace the current file header (lines 1-11):
   ```
   #ifndef MCPP_UTIL_RETRY_H
   #define MCPP_UTIL_RETRY_H
   ```

2. With the standard project MIT license header (match util/logger.h lines 1-23):
   ```
   // mcpp - MCP C++ library
   // https://github.com/mcpp-project/mcpp
   //
   // Copyright (c) 2025 mcpp contributors
   // Distributed under MIT License
   //
   // Permission is hereby granted, free of charge, to any person obtaining a copy
   // of this software and associated documentation files (the "Software"), to deal
   // in the Software without restriction, including without limitation the rights
   // to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   // copies of the Software, and to permit persons to whom the Software is
   // furnished to do so, subject to the following conditions:
   //
   // The above copyright notice and this permission notice shall be included in all
   // copies or substantial portions of the Software.
   //
   // THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   // IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   // FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   // AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   // LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   // OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   // SOFTWARE.

   #ifndef MCPP_UTIL_RETRY_H
   #define MCPP_UTIL_RETRY_H
   ```

3. Preserve the rest of the file content unchanged

Gap reason from VERIFICATION.md: "File lacks project license header (all other files have it)"
  </action>
  <verify>
head -25 src/mcpp/util/retry.h | grep -q "Copyright (c) 2025 mcpp contributors" && \
head -25 src/mcpp/util/retry.h | grep -q "Permission is hereby granted" && \
head -25 src/mcpp/util/retry.h | grep -q "Distributed under MIT License"
  </verify>
  <done>
util/retry.h has the standard MIT license header matching all other Phase 6 files.
  </done>
</task>

</tasks>

<verification>
1. License header contains "Copyright (c) 2025 mcpp contributors"
2. License header contains full MIT permission text
3. Header guards follow existing pattern (#ifndef MCPP_UTIL_RETRY_H)
4. No functional code changes beyond header addition
</verification>

<success_criteria>
1. MIT license header present at top of src/mcpp/util/retry.h
2. Header matches format of other Phase 6 files (util/logger.h, api/context.h, etc.)
3. File remains functionally unchanged (only header added)
</success_criteria>

<output>
After completion, create `.planning/phases/06-high-level-api/06-07-SUMMARY.md` with:
- Gap closed: util/retry.h now has MIT license header
- Production polish: All Phase 6 files have consistent licensing
- Files modified: src/mcpp/util/retry.h (added 23-line license header)
</output>
