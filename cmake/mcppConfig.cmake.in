# mcpp CMake package configuration
# https://github.com/mcpp-project/mcpp
#
# Copyright (c) 2025 mcpp contributors
# Distributed under MIT License

@PACKAGE_INIT@

include(CMakeFindDependencyMacro)

# Find nlohmann_json dependency
# Assume it's installed or user provides it via CMAKE_PREFIX_PATH
find_dependency(nlohmann_json 3.11.0 REQUIRED)

# Include the targets file
include("${CMAKE_CURRENT_LIST_DIR}/mcppTargets.cmake")

# Create the mcpp::mcpp alias that points to the correct library type
# Users can link against either mcpp::mcpp_static or mcpp::mcpp_shared
if(NOT TARGET mcpp::mcpp)
    if(TARGET mcpp::mcpp_shared)
        add_library(mcpp::mcpp ALIAS mcpp::mcpp_shared)
    elseif(TARGET mcpp::mcpp_static)
        add_library(mcpp::mcpp ALIAS mcpp::mcpp_static)
    endif()
endif()

check_required_components(mcpp)
